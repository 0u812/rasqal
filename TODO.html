<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <title>Rasqal RDF Query Library - To Do List</title>
</head>
<body>

<h1 style="align:center">Rasqal RDF Query Library - To Do List</h1>

<h2>Bugs and Features</h2>

<h3>General</h3>

<ul>
<li>Engine: confirm that re-running an execute() on a prepared query
works and does not leak memory (BUG)</li>
<li>Engine: generating result sets in RDF test case vocabulary</li>
<li>Streaming triples from the parser - a Raptor feature request</li>
<li>Engine: Result constraints - like <code>LIMIT</code> and <code>OFFSET</code> in SQL (extension)</li>
<li>Engine: Optional triples (extension)</li>
<li>Engine: Does not handle multiple sources (extension)</li>
<li>Engine: Add constructing of triples (like SeRQL <code>construct</code>)</li>
<li>Engine: Select distinct results</li>
<li>QL: SeRQL - needs several engine changes (construct, optionals, multiple sources, distinct, paths, anon variables, predicates) - <a href="http://www.openrdf.org/doc/users/ch05.html">The SeRQL query language</a> in Sesame user manual.</li>
<li>QL: Squish - should be just syntax - <a href="http://swordfish.rdfweb.org/rdfquery/squish-bnf.html">Squish BNF</a></li> 
<li>QL: <a href="http://www.guha.com/rdfdb/query.html">RDFDB query language</a> - should be just syntax</li>
<li>QL: RQL, others - functional requirements not determined</li>
</ul>

<h3>SPARQL</h3>

<p>Rasqal provides initial syntax support for the SPARQL language,
as defined in
<a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/">SPARQL Query Language for RDF</a>,
W3C Working Draft, 12 October 2004.</p>

<p>Rasqal currently implements only the functionality in common with RDQL.
Unimplemented sections primarily include 4-7, parts of 8 and 9-11 but
are not limited to those sections.  Detail of unimplemented parts are
as follows:</p>
<ul>
<li><a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#optionals">4 Including Optional Values</a> - 
<a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#OptionalMatching">4.1 Optional Matching</a> (<code>OPTIONAL</code> and <code>[</code> ...<code>]</code>),
<a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#OptionalMultiple">4.2 Multiple Optional Blocks</a>,
</li>
<li><a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#NestedPatterns">5 Nested Patterns</a> (<code>( (</code> ... <code>) )</code>)</li>
<li><a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#alternatives">6 More Pattern Matching &#x2013; Alternatives</a> (skeleton section)</li>
<li><a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#unsaid">7 More Pattern Matching &#x2013; Unsaid</a> (<code>UNSAID</code> skeleton section)</li>
<li><a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#choosing">8 Choosing What to Query</a> (<code>FROM</code> with multiple URIs)</li>
<li><a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#source">9 Querying the Origin of Statements</a> (Using <code>SOURCE</code> in queries with URIs or variable names)</li>
<li><a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#QueryForms">11 Query Forms</a> -
<a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#select">11.1 Choosing which Variables to Return</a> (<code>SELECT DISTINCT</code>, <code>SELECT LIMIT</code>),
<a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#construct">11.2 Constructing an Output Graph</a> (<code>CONSTRUCT</code> with triples and <code>CONSTRUCT *</code>),
<a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#describe">11.3 Descriptions of Resources</a> (<code>DESCRIBE</code> with variables, <code>DESCRIBE</code> with URIs),
<a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#ask">11.4 Asking "yes or no" questions</a> (<code>ASK</code>)
</li>
<li><a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#extendedtests">12 Testing Values</a> -
<a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#extendedtests">12.1 Standard Operations</a> (skeleton section),
<a href="http://www.w3.org/TR/2004/WD-rdf-sparql-query-20041012/#extendedtests">12.2 Extending Value Testing</a> (<code>&amp;qname(...)</code> in constraints)
</li>
</ul>

<h3>RDQL</h3>
<ul>
<li>Check difference between FROM and SOURCE, currently they are the same</li>
<li>RDQL testsuite failures:
<ul>

<li>1-09: relies on <code>&lt;prefix:/r-1&gt;</code>
being interpreted as a qname after <code>prefix:</code> is defined later.
However this syntax is not in the 
<a href="http://www.w3.org/Submission/2004/SUBM-RDQL-20040109/">RDQL - A Query Language for RDF, W3C Member Submission 9 January 2004</a>.
Legacy syntax.</li>

<li>B-01: string literal fails to match xsd:string datatyped string literal.
The test case and result seem to be inconsistent.  The test says "No match:
the value in the model is datatyped." however result-B-01.n3 has 1
result solution.</li>

<li>S-02: UTF-8 in prefix - not yet in the RDQL lexer</li>

<li>S-03: UTF-8 in qname - not yet in the RDQL lexer.</li>

<li>S-04, S-05: \uHHH unicode in prefix - not yet in the RDQL lexer.</li>

</ul>
</li>
<li>LIMIT and OFFSET result constraints, after engine supports them.  AKT's Triplestore implementation of RDQL has this option. (extension)</li>
<li>Error recovery - when parsing a query fails, memory is leaked because the lists of selects, constraints etc. are lost when some part fails.  This requires understanding error recovery in Yacc/Bison.</li>
</ul>


<h2>Done</h2>

<p>The most recent changes are at the top, with the first
release version where appropriate.</p>

<ul>
<li>RDQL: Checked that blank nodes are not allowed in RDQL queries.</li>
<li>RDQL: string matches should be case insensitive with EQ, NE; not with ==,  !=</li>
<li>Engine: comparisons between integer and floats return &lt;0 (-1),0 or &gt;0 (1) integers as appropriate</li>
<li>Literal languages, datatypes - <code>"lit"@lang</code> and
<code>"lit"@lang^^datatype</code></li>
<li>Engine: added checks that (?x, ?x, constant) (and permutations) and
(?x, ?x, ?x) work in triplesMatching implementation, for redland.</li>
<li>RDQL testsuite file model9.n3 has a floating literal constant, N3 but not Turtle</li>
<li>RDQL: kill functioncall grammar term</li>
<li>Engine: recognise xsd:integer as integer, xsd:double as floating</li>
<li>RDQL: Updated for changes in
<a href="http://www.w3.org/Submission/2004/SUBM-RDQL-20040109/">RDQL - A Query Language for RDF, W3C Member Submission 9 January 2004</a></li>
<li>Engine: base URIs handled</li>
<li>RDQL: defined keywords are handled case insensitive.</li>
<li>RDQL: lexer and parser handle new and old qname style (with a warning) - <code>a:b</code> and <code>&lt;a:b&gt;</code>.</li>
<li>RDQL: Recognise pattern literals in /foo/, m/foo/ forms with
optional flags</li>
</ul>

<hr />

<p>Copyright 2003-2004 <a href="http://purl.org/net/dajobe/">Dave Beckett</a>, <a href="http://www.ilrt.bristol.ac.uk/">Institute for Learning and Research Technology</a>, <a href="http://www.bristol.ac.uk/">University of Bristol</a></p>

</body>
</html>
